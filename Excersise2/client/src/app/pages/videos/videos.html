<header class="video-header">
  <h1>Video Collections</h1>
  <p>
    Browse curated videos across Programming, Networks, Databases, Web Development, AI, and
    Cybersecurity. Use filters to find videos by topic and level. Open your desired video, view its
    details and start learning at your own pace.
  </p>
  <div class="tag-row">
    <div class="tag">New Videos</div>
    <div class="tag">added</div>
    <div class="tag">every week</div>
  </div>
</header>

<section class="videos-page">

  <app-filter-sidebar label="Videos" [count]="filteredVideos.length">

    <div filters>
      <!-- CATEGORY -->
      <div class="filter-box">
        <span>Category</span>

        <div class="checkbox-wrapper" *ngFor="let cat of categoryOptions">
          <input
            class="inp-cbx"
            [id]="'cat-' + cat.value"
            type="checkbox"
            [value]="cat.value"
            (change)="onCategoryChange(cat.value, $event)"
          />
          <label class="cbx" [for]="'cat-' + cat.value">
            <span>
              <svg width="12" height="10" viewBox="0 0 12 10">
                <polyline points="1.5 6 4.5 9 10.5 1"></polyline>
              </svg>
            </span>
            <p>{{ cat.label }}</p>
          </label>
        </div>
      </div>

      <!-- DIFFICULTY -->
      <div class="filter-box">
        <span>Difficulty</span>

        <div class="checkbox-wrapper" *ngFor="let lvl of levelOptions">
          <input
            class="inp-cbx"
            [id]="'diff-' + lvl.value"
            type="checkbox"
            [value]="lvl.value"
            (change)="onLevelChange(lvl.value, $event)"
          />
          <label class="cbx" [for]="'diff-' + lvl.value">
            <span>
              <svg width="12" height="10" viewBox="0 0 12 10">
                <polyline points="1.5 6 4.5 9 10.5 1"></polyline>
              </svg>
            </span>
            <p>{{ lvl.label }}</p>
          </label>
        </div>
      </div>

      <!-- AVAILABLE -->
      <div class="filter-box">
        <div class="checkbox-wrapper">
          <input
            class="inp-cbx"
            id="filter-available"
            type="checkbox"
            (change)="onAvailableChange($event)"
          />
          <label class="cbx" for="filter-available">
            <span>
              <svg width="12" height="10" viewBox="0 0 12 10">
                <polyline points="1.5 6 4.5 9 10.5 1"></polyline>
              </svg>
            </span>
            <p>Only available</p>
          </label>
        </div>
      </div>
    </div>

    <div grid class="course-grid videos" id="video-list" #videoList>
      <p *ngIf="loading">Loading...</p>
      <p *ngIf="error">{{ error }}</p>

      <app-video-card
        *ngFor="let video of filteredVideos; trackBy: trackById"
        [video]="video"
      ></app-video-card>

      <p *ngIf="!loading && !error && filteredVideos.length === 0" style="color: white">
        No videos found.
      </p>
    </div>

  </app-filter-sidebar>

</section>
